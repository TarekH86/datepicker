<!DOCTYPE html>
<html>
<head>
  <title>DATE PICKER</title>
  <meta charset="utf-8">
  <style>
    body {
      margin: 0;
      font-family: Arial;
    }
    .datepicker-wrapper {
      display: inline-block;
    }
    .outin {
      background-color: #eee;
      padding: 10px;
      margin: 10px;
    }
    label {
      display: block;
    }
  </style>
</head>
<body>
  <div class="outin">
    <div>
      <label for="red-d">Departure</label>
      <input id="red-d" onchange="onchangeRedDeparture(event);">
      <span class="red-d"></span>
    </div>
    <div>
      <label for="red-r">Return</label>
      <input id="red-r" onchange="onchangeRedReturn(event);">
      <span class="red-r"></span>
    </div>
    <div>
      <label for="red-m">Max</label>
      <input id="red-m" onchange="onchangeRedMax(event);">
      <span class="red-m"></span>
    </div>
    <div>
      <button type="button" onclick="setRedDateMin();">set dateMin to next month</button>
    </div>
  </div>
  <div class="outin">
    <div>
      J-5 Ã  J+5
    </div>
    <div>
      <label for="blue-d">Departure</label>
      <input id="blue-d" onchange="onchangeBlueDeparture(event);">
      <span class="blue-d"></span>
    </div>
    <div>
      <label for="blue-r">Return</label>
      <input id="blue-r" onchange="onchangeBlueReturn(event);">
      <span class="blue-r"></span>
    </div>
  </div>
  <script type="text/javascript" src="dist/dp.js"></script>
  <script type="text/javascript">
    var redDpDeparture = dp.create('#red-d');
    var redDpReturn = dp.create('#red-r');
    var redDpMax = dp.create('#red-m');
    var uselessRedDpDeparture = dp.create('#red-d');
    var uselessRedDpReturn = dp.create('#red-r');
    var uselessRedDpMax = dp.create('#red-m');

    var dateMin = new Date();
    var dateMax = new Date();
    dateMin.setDate(dateMin.getDate() - 5);
    dateMax.setDate(dateMax.getDate() + 5);
    dp.config({
      lang: 'fr',
      dateMin: dateMin,
      dateMax: dateMax
    });
    var blueDpDeparture = dp.create('#blue-d');
    var blueDpReturn = dp.create('#blue-r');

    displaySelectedDate();

    function setRedDateMin() {
      var nextMonth = new Date();
      nextMonth.setMonth(nextMonth.getMonth() + 1);
      redDpDeparture.setDateMin(nextMonth);
      redDpReturn.setDateMin(nextMonth);
      redDpMax.setDateMin(nextMonth);
    }

    function displaySelectedDate() {
      document.querySelector('.red-d').innerHTML = redDpDeparture.getSelectedDate();
      document.querySelector('.red-r').innerHTML = redDpReturn.getSelectedDate();
      document.querySelector('.red-m').innerHTML = redDpMax.getSelectedDate();
      document.querySelector('.blue-d').innerHTML = blueDpDeparture.getSelectedDate();
      document.querySelector('.blue-r').innerHTML = blueDpReturn.getSelectedDate();
    }

    function onchangeRedDeparture() {
      setTimeout(function () {
        document.querySelector('.red-d').innerHTML = redDpDeparture.getSelectedDate();
        redDpReturn.setDateMin(redDpDeparture.getSelectedDate());
      }, 100);
    }
    function onchangeRedReturn() {
      setTimeout(function () {
        document.querySelector('.red-r').innerHTML = redDpReturn.getSelectedDate();
      }, 100);
    }
    function onchangeRedMax() {
      setTimeout(function () {
        document.querySelector('.red-m').innerHTML = redDpMax.getSelectedDate();
        redDpReturn.setDateMax(redDpMax.getSelectedDate());
      }, 100);
    }

    function onchangeBlueDeparture() {
      setTimeout(function () {
        document.querySelector('.blue-d').innerHTML = blueDpDeparture.getSelectedDate();
        blueDpReturn.setDateMin(blueDpDeparture.getSelectedDate());
      }, 100);
    }
    function onchangeBlueReturn() {
      setTimeout(function () {
        document.querySelector('.blue-r').innerHTML = blueDpReturn.getSelectedDate();
      }, 100);
    }
  </script>
</body>
</html>